<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Trabajando con la ENOE y Python | Adrian Vázquez E. </title> <meta name="author" content="Adrian Vázquez E."> <meta name="description" content="Descarga y configura los datos de la Encuesta Nacional de Ocupación y Empleo para realizar análisis estadísticos"> <link rel="stylesheet" href="/thisportfolio.github.io/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/thisportfolio.github.io/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/thisportfolio.github.io/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%92%BC&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/thisportfolio.github.io/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://adrianv443.github.io/thisportfolio.github.io/projects/1_project/"> <script src="/thisportfolio.github.io/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/thisportfolio.github.io/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/thisportfolio.github.io/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/thisportfolio.github.io/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/thisportfolio.github.io/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/thisportfolio.github.io/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/thisportfolio.github.io/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/thisportfolio.github.io/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script src="/thisportfolio.github.io/assets/js/distillpub/template.v2.js"></script> <script src="/thisportfolio.github.io/assets/js/distillpub/transforms.v2.js"></script> <script src="/thisportfolio.github.io/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Trabajando con la ENOE y Python",
            "description": "Descarga y configura los datos de la Encuesta Nacional de Ocupación y Empleo para realizar análisis estadísticos",
            "published": "January 20, 2025",
            "authors": [
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/thisportfolio.github.io/"> <span class="font-weight-bold">Adrian</span> Vázquez E. </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/thisportfolio.github.io/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/thisportfolio.github.io/blog/">Blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/thisportfolio.github.io/projects/">Proyectos <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/thisportfolio.github.io/cv/">CV 📝 </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Trabajando con la ENOE y Python</h1> <p>Descarga y configura los datos de la Encuesta Nacional de Ocupación y Empleo para realizar análisis estadísticos</p> </d-title> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contenido</h3> <div> <a href="#flujo-de-trabajo">Flujo de trabajo</a> </div> <div> <a href="#descarga-de-datos">Descarga de datos</a> </div> <div> <a href="#carga-de-archivos-en-python">Carga de Archivos en Python</a> </div> <div> <a href="#fusi%C3%B3n-de-tablas">Fusión de tablas</a> </div> <ul> <li> <a href="#funci%C3%B3n-para-limpiar-tablas">Función para limpiar tablas</a> </li> <li> <a href="#visualizaci%C3%B3n-de-la-tabla-final">Visualización de la tabla final</a> </li> </ul> <div> <a href="#conclusi%C3%B3n">Conclusión</a> </div> </nav> </d-contents> <p style="text-align: justify;"> <b>La Encuesta Nacional de Ocupación y Empleo</b><d-cite key="inegi_enoe_wp"></d-cite> (ENOE) elaborada por el <b>Instituto Nacional de Estadística y Geografía</b> (INEGI) es una fuente clave para comprender el mercado laboral mexicano. Proporciona datos mensuales y trimestrales con alcance nacional abarcando cada una de las 32 entidades federativas y un total de 39 ciudades. Este proyecto está inspirado en el Libro <i>¿Cómo empezar a estudiar el mercado de trabajo en México? Una introducción al análisis estadístico con R aplicado a la Encuesta Nacional de Ocupación y Empleo</i> <d-cite key="escotoanaruth_book"></d-cite> y tiene fines demostrativos. </p> <p style="text-align: justify;"> El objetivo es mostrar el procesamiento de la ENOE para realizar análisis estadísticos descriptivos, asegurando la integridad de los datos para conseguir información valiosa. A continuación se detallan los pasos que van desde la extracción de la base de datos pasando por su transformación y limpieza hasta obtener una base configurada y lista para ser analizada. </p> <hr> <h2 id="flujo-de-trabajo">Flujo de trabajo</h2> <ol> <li> <b>Descarga de datos</b>: Obtener la base de datos de INEGI</li> <li> <b>Carga de archivos</b>: Leer los datos en Python utilizando bibliotecas adecuadas</li> <li> <b>Fusión de tablas</b>: Integrar las tablas para crear una base multidimensional</li> <li> <b>Limpieza y preparación</b>: Asegurar la integridad y consistencia de los datos</li> <li> <b>Visualización</b>: Explorar el contenido procesado</li> </ol> <hr> <h2 id="descarga-de-datos">Descarga de datos</h2> <p style="text-align: justify;"> Para este proyecto, seleccionamos la base del <b> cuarto trimestre del 2022</b>. en formato <code>.dta</code> (especialmente usado por STATA). Este formato contiene un archivo de valores separado por tabuladores que puede incluir diferentes tipos de datos separados en filas y columnas. </p> <p>Tras descargar y descomprimir los archivos se muestran cinco tablas:</p> <ul> <li><code class="language-plaintext highlighter-rouge">ENOEN_COE1T422.dta</code></li> <li><code class="language-plaintext highlighter-rouge">ENOEN_COE2T422.dta</code></li> <li><code class="language-plaintext highlighter-rouge">ENOEN_HOGT422.dta</code></li> <li><code class="language-plaintext highlighter-rouge">ENOEN_VIVT422.dta</code></li> <li><code class="language-plaintext highlighter-rouge">ENOEN_SDEMT422.dta</code></li> </ul> <h2 id="carga-de-archivos-en-python">Carga de archivos en Python</h2> <p>A continuación en un Jupyter Notebook instalaremos pyreadstat con la siguiente línea de código:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Librería que permite manejar archivos STATA en python 
</span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyreadstat</span>
</code></pre></div></div> <p>Es importante que el Notebook se encuentre dentro de la misma carpeta que las tablas con la finalidad de evitar conflictos con las rutas de los archivos.</p> <p>Una vez instalada la importamos a nuestro entorno:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pyreadstat</span>
</code></pre></div></div> <p>Cargamos las tablas y aplicamos formatos legibles para facilitar su comprensión:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Cuestionario de ocupación y empleo 1
</span><span class="n">coet1422</span><span class="p">,</span> <span class="n">meta1</span> <span class="o">=</span> <span class="n">pyreadstat</span><span class="p">.</span><span class="nf">read_dta</span><span class="p">(</span><span class="sh">'</span><span class="s">ENOEN_COE1T422.dta</span><span class="sh">'</span><span class="p">,</span> <span class="n">apply_value_formats</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># Cuestionario de ocupación y empleo 2
</span><span class="n">coet2422</span><span class="p">,</span> <span class="n">meta2</span> <span class="o">=</span> <span class="n">pyreadstat</span><span class="p">.</span><span class="nf">read_dta</span><span class="p">(</span><span class="sh">'</span><span class="s">ENOEN_COE2T422.dta</span><span class="sh">'</span><span class="p">,</span> <span class="n">apply_value_formats</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># Tabla Hogares
</span><span class="n">hogt422</span><span class="p">,</span> <span class="n">meta3</span> <span class="o">=</span> <span class="n">pyreadstat</span><span class="p">.</span><span class="nf">read_dta</span><span class="p">(</span><span class="sh">'</span><span class="s">ENOEN_HOGT422.dta</span><span class="sh">'</span><span class="p">,</span> <span class="n">apply_value_formats</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># Tabla Vivienda
</span><span class="n">vivt422</span><span class="p">,</span> <span class="n">meta4</span> <span class="o">=</span> <span class="n">pyreadstat</span><span class="p">.</span><span class="nf">read_dta</span><span class="p">(</span><span class="sh">'</span><span class="s">ENOEN_VIVT422.dta</span><span class="sh">'</span><span class="p">,</span> <span class="n">apply_value_formats</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># Tabla Sociodemografico
</span><span class="n">sdemt422</span><span class="p">,</span> <span class="n">meta5</span> <span class="o">=</span> <span class="n">pyreadstat</span><span class="p">.</span><span class="nf">read_dta</span><span class="p">(</span><span class="sh">'</span><span class="s">ENOEN_SDEMT422.dta</span><span class="sh">'</span><span class="p">,</span> <span class="n">apply_value_formats</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align: justify;"> Lo que hace <code>pyreadstat.read_dta</code> con el parámetro <code>apply_value_formats=True</code> es configurar los datos dentro de las tablas mostrándolos como nombres de categorías en lugar de un número entero facilitando así la lectura de la tabla. Solo se usarán las variables con los nombres de cada tabla ya que todas las variables con el nombre "meta" solo contienen metadatos que por esta ocasión no se toman en cuenta. </p> <hr> <h2 id="fusión-de-tablas">Fusión de tablas</h2> <p style="text-align: justify;"> La fusión es el paso más importante porque nos ayuda a comprender como se construye la base de datos con la que podemos obtener indicadores clave, es esta parte la que muestra la multidimensionalidad sobre la que se trabaja. </p> <p style="text-align: justify;"> Realizar la fusión de las tablas es un proceso simple pero repetitivo y cada paso es de suma importancia para minimizar la perdida de información. </p> <p style="text-align: justify;"> El siguiente gráfico corresponde al modelo <b>entidad-relación</b> que nos proporciona el INEGI, en se observan columnas que representan a cada tabla, a su vez, estas contienen identificadores y nombres de variables ubicados en la parte superior e inferior respectivamente, por ejemplo las tablas <b>COE2T</b> y <b>COE1T</b> tienen los mismos cinco identificadores. El modelo es la representación gráfica de la interrelación existente entre estas tablas </p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/thisportfolio.github.io/assets/img/modelo_er_enoen_2022_4t-480.webp 480w,/thisportfolio.github.io/assets/img/modelo_er_enoen_2022_4t-800.webp 800w,/thisportfolio.github.io/assets/img/modelo_er_enoen_2022_4t-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/thisportfolio.github.io/assets/img/modelo_er_enoen_2022_4t.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="modelo_entidad_relacion" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption">Fuente: INEGI, <i>Encuesta Nacional de Ocupación y Empleo.</i> </div> <p>Se asignan variables que contendrán los identificadores de cada tabla:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">idvivienda</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">cd_a</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ent</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">con</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">v_sel</span><span class="sh">'</span><span class="p">]</span>
<span class="n">idhogar</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">cd_a</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ent</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">con</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">v_sel</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">n_hog</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">h_mud</span><span class="sh">'</span><span class="p">]</span>
<span class="c1"># Se toma en cuenta "cd_a" o "ciudad autorrepresentada".
</span><span class="n">idpersona</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">cd_a</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ent</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">con</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">v_sel</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">n_hog</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">h_mud</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">n_ren</span><span class="sh">'</span><span class="p">]</span>
</code></pre></div></div> <p>Importamos la librería pandas.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
</code></pre></div></div> <p>El siguiente código nos permite unir las primeras dos tablas:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coet422</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="n">coet1422</span><span class="p">,</span> <span class="n">coet2422</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">idpersona</span><span class="p">)</span>
<span class="n">coet422</span><span class="p">.</span><span class="n">columns</span>
</code></pre></div></div> <p>La función <em>merge</em> está uniendo la tabla coet1422 con coet2422 utilizando los indicadores dentro de la variable <code class="language-plaintext highlighter-rouge">idpersona</code> como puntos de coincidencias para unir los datos. La tabla que nos devuelve contiene columnas “duplicadas” pero fácilmente diferenciables por los sufijos <code class="language-plaintext highlighter-rouge">_x</code> y <code class="language-plaintext highlighter-rouge">_y</code>.</p> <p>Por ejemplo si queremos observar las coincidencias de las columnas <code class="language-plaintext highlighter-rouge">n_ent_x</code> y <code class="language-plaintext highlighter-rouge">n_ent_y</code> es posible creando una <em>crosstab</em> o tabla cruzada, a continuación el código para hacerlo:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Crosstab de pandas
</span><span class="n">tabla</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">crosstab</span><span class="p">(</span><span class="n">coet422</span><span class="p">[</span><span class="sh">'</span><span class="s">n_ent_x</span><span class="sh">'</span><span class="p">],</span> <span class="n">coet422</span><span class="p">[</span><span class="sh">'</span><span class="s">n_ent_y</span><span class="sh">'</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">tabla</span><span class="p">)</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">Output:</code></p> <pre>
  <code class="plaintext">
  n_ent_y             Cuarta entrevista  Primera entrevista  Quinta entrevista  \
  n_ent_x                                                                        
  Cuarta entrevista               64109                   0                  0   
  Primera entrevista                  0               65103                  0   
  Quinta entrevista                   0                   0              63929   
  Segunda entrevista                  0                   0                  0   
  Tercera entrevista                  0                   0                  0   

  n_ent_y             Segunda entrevista  Tercera entrevista  
  n_ent_x                                                     
  Cuarta entrevista                    0                   0  
  Primera entrevista                   0                   0  
  Quinta entrevista                    0                   0  
  Segunda entrevista               64334                   0  
  Tercera entrevista                   0               65395  
  </code>
</pre> <p style="text-align: justify;"> El resultado de la tabla cruzada muestra el número de veces en el que las categorías de una serie coinciden con las de la otra. Este paso es útil para observar como se manejaron los datos una vez fusionados. <br> Particularmente para este proyecto se considera una función para manejar la limpieza de las tablas eliminando aquellas columnas redundantes generadas a partir del paso anterior, sin embargo es totalmente opcional </p> <h3 id="función-para-limpiar-tablas">Función para limpiar tablas</h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">limpiar_tabla</span><span class="p">(</span><span class="n">tabla</span><span class="p">):</span>
    <span class="n">columnas_eliminar</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">tabla</span><span class="p">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">col</span><span class="p">.</span><span class="nf">endswith</span><span class="p">(</span><span class="sh">'</span><span class="s">_y</span><span class="sh">'</span><span class="p">)]</span>
    <span class="n">tabla</span> <span class="o">=</span> <span class="n">tabla</span><span class="p">.</span><span class="nf">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="n">columnas_eliminar</span><span class="p">)</span>
    <span class="n">tabla</span> <span class="o">=</span> <span class="n">tabla</span><span class="p">.</span><span class="nf">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">col</span><span class="p">:</span><span class="n">col</span> <span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">'</span><span class="s">_</span><span class="sh">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">tabla</span><span class="p">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">col</span><span class="p">.</span><span class="nf">endswith</span><span class="p">(</span><span class="sh">'</span><span class="s">_x</span><span class="sh">'</span><span class="p">)})</span>
    <span class="k">return</span> <span class="n">tabla</span>
</code></pre></div></div> <p>Y se ejecuta sobre la primera tabla creada.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coet422</span> <span class="o">=</span> <span class="nf">limpuar_tabla</span><span class="p">(</span><span class="n">coet422</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">coet422</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">Output:</code></p> <pre>
  <code class="python">
(322870, 235)
  </code>
</pre> <p>Se repite el proceso uniendo todas las tablas.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Fusión y limpieza 
</span><span class="n">sdemcoet422</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="n">sdemt422</span><span class="p">,</span> <span class="n">coet422</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">idpersona</span><span class="p">)</span>
<span class="n">sdemcoet422</span> <span class="o">=</span> <span class="nf">limpiar_tabla</span><span class="p">(</span><span class="n">sdemcoet422</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">sdemcoet422: </span><span class="si">{</span><span class="n">sdemcoet422</span><span class="p">.</span><span class="n">shape</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
<span class="c1"># Fusion y limpieza
</span><span class="n">vivhogt422</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="n">vivt422</span><span class="p">,</span> <span class="n">hogt422</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">idvivienda</span><span class="p">)</span>
<span class="n">vivhogt422</span> <span class="o">=</span> <span class="nf">limpiar_tabla</span><span class="p">(</span><span class="n">vivhogt422</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">vivhogt422: </span><span class="si">{</span><span class="n">vivhogt422</span><span class="p">.</span><span class="n">shape</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
<span class="c1"># Limpieza
</span><span class="n">completat422</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="n">sdemcoet422</span><span class="p">,</span> <span class="n">vivhogt422</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">idhogar</span><span class="p">)</span>
<span class="n">completat422</span> <span class="o">=</span> <span class="nf">limpiar_tabla</span><span class="p">(</span><span class="n">completat422</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">completat422: </span><span class="si">{</span><span class="n">completat422</span><span class="p">.</span><span class="n">shape</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <p>Finalmente mostramos un fragmento de la tabla <code class="language-plaintext highlighter-rouge">completat422</code> que contiene toda la información necesaria para crear análisis estadísticos.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Función tail() para devolver las últimas "n" filas del DataFrame
</span><span class="n">completat422</span><span class="p">.</span><span class="nf">tail</span><span class="p">()</span>
</code></pre></div></div> <h3 id="visualización-de-la-tabla-final">Visualización de la tabla final</h3> <div class="l-body-outset" style="overflow-x: auto; border: 1px solid #ddd; border-radius: 8px; padding: 10px; margin-bottom: 20px;"> <style scoped="">.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:center;border-bottom:2px solid #ddd}.dataframe{width:100%;border-collapse:collapse;margin:0 auto}.dataframe td,.dataframe th{padding:8px;text-align:left;border:1px solid #ddd}.dataframe tbody tr:nth-child(even){background-color:#704d4d}.dataframe tbody tr:hover{background-color:#704d4d}</style> <table border="1" class="dataframe"> <thead> <tr style="text-align: center;"> <th></th> <th>r</th> <th>loc</th> <th>mun</th> <th>est</th> <th>est_d_tri</th> <th>est_d_men</th> <th>ageb</th> <th>t_loc_tri</th> <th>t_loc_men</th> <th>cd_a</th> <th>...</th> <th>r_pre</th> <th>p_dia</th> <th>p_mes</th> <th>p_anio</th> <th>r_def</th> <th>d_dia</th> <th>d_mes</th> <th>d_anio</th> <th>e_obs</th> <th>inf</th> </tr> </thead> <tbody> <tr> <th>311078</th> <td>Entrevista completa</td> <td>NaN</td> <td>2.0</td> <td>20.0</td> <td>476.0</td> <td>420.0</td> <td>0.0</td> <td>Localidades menores de 2 500 habitantes</td> <td>Localidades menores de 2 500 habitantes</td> <td>Complemento urbano-rural</td> <td>...</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>No</td> <td>2.0</td> </tr> <tr> <th>311079</th> <td>Entrevista completa</td> <td>NaN</td> <td>2.0</td> <td>20.0</td> <td>476.0</td> <td>420.0</td> <td>0.0</td> <td>Localidades menores de 2 500 habitantes</td> <td>Localidades menores de 2 500 habitantes</td> <td>Complemento urbano-rural</td> <td>...</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>No</td> <td>2.0</td> </tr> <tr> <th>311080</th> <td>Entrevista completa</td> <td>NaN</td> <td>2.0</td> <td>20.0</td> <td>476.0</td> <td>420.0</td> <td>0.0</td> <td>Localidades menores de 2 500 habitantes</td> <td>Localidades menores de 2 500 habitantes</td> <td>Complemento urbano-rural</td> <td>...</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>No</td> <td>1.0</td> </tr> <tr> <th>311081</th> <td>Entrevista completa</td> <td>NaN</td> <td>2.0</td> <td>20.0</td> <td>476.0</td> <td>420.0</td> <td>0.0</td> <td>Localidades menores de 2 500 habitantes</td> <td>Localidades menores de 2 500 habitantes</td> <td>Complemento urbano-rural</td> <td>...</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>No</td> <td>1.0</td> </tr> <tr> <th>311082</th> <td>Entrevista completa</td> <td>NaN</td> <td>2.0</td> <td>20.0</td> <td>476.0</td> <td>420.0</td> <td>0.0</td> <td>Localidades menores de 2 500 habitantes</td> <td>Localidades menores de 2 500 habitantes</td> <td>Complemento urbano-rural</td> <td>...</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>Entrevista completa</td> <td>6.0</td> <td>12.0</td> <td>22.0</td> <td>No</td> <td>99.0</td> </tr> </tbody> </table> <p>5 rows × 349 columns</p> </div> <hr> <h2 id="conclusión">Conclusión</h2> <p style="text-align: justify;"> El método presentado aquí pretende ser una herramienta más para el acercamiento al estudio de las ciencias sociales a partir de los datos de la Encuesta Nacional de Ocupación y Empleo (ENOE). Es posible ampliar este análisis aplicando métodos estadísticos o visualizaciones con bibliotecas como <code>matplotlib</code> o <code>seaborn</code>. </p> <p style="text-align: justify;"> Se espera acercar al lector al estudio de Python como herramienta para construir estructuras de datos, también para quien ya tiene conocimiento sobre el lenguaje de programación y les sea de interés analizar el mercado nacional de trabajo. Si bien no se dan descripciones básicas técnicas se espera promover su uso y aplicación. </p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/thisportfolio.github.io/assets/bibliography/my_bib.bib"></d-bibliography> <div id="giscus_thread" style="max-width: 950px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"AdrianV443/thisportfolio.github.io","data-repo-id":"","data-category":"Comments","data-category-id":"","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"es",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Adrian Vázquez E.. </div> </footer> <script src="/thisportfolio.github.io/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/thisportfolio.github.io/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <style>.toc-wrapper{<!--padding:1rem;-->border-radius:8px;<!--box-shadow:0 2px 4px rgba(0,0,0,0.1);-->}.floating-toc{position:sticky;top:30px;max-height:calc(100vh - 20px);overflow-y:auto}.toc-wrapper a{color:#df0000;text-decoration:none;display:block;margin:.5rem 0}.toc-wrapper a:hover{color:#0056a3;text-decoration:underline}.toc-wrapper ul{list-style-type:disc;margin-left:1.5rem}</style> </body> </html>